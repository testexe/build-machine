---
# tasks file for update

- name: Update package lists
  become: yes
  ansible.builtin.apt:
    update_cache: yes

- name: Upgrade all packages
  become: yes
  ansible.builtin.apt:
    upgrade: yes
    autoremove: yes
    autoclean: yes

- name: Perform full-upgrade
  become: yes
  ansible.builtin.apt:
    upgrade: full
    autoremove: yes
    autoclean: yes

- name: Perform dist-upgrade
  become: yes
  ansible.builtin.apt:
    upgrade: dist
    autoremove: yes
    autoclean: yes

- name: Ensure the system is up to date
  become: yes
  ansible.builtin.apt:
    upgrade: safe

- name: Update the Linux kernel
  become: yes
  ansible.builtin.apt:
    name: linux-image-generic
    state: latest

# - name: Check if there are available package updates
#   become: yes
#   ansible.builtin.apt:
#     update_cache: yes
#   register: package_update

# - name: Ensure SearchSploit is up-to-date
#   become: yes
#   command: searchsploit -u
#   when: package_update|changed

